import{j as k,p as y,o as c,g as d,a,b as h,d as s,w as p,e as _,t as l,n as u,F as f,B as w,f as n,H as q,L as T,l as V}from"./app.38b8c228.js";import{_ as E}from"./Header.fe906a28.js";import{a as g,_ as v}from"./Label.18d2b126.js";import{_ as b}from"./Button.158529ca.js";import{R}from"./vue-recaptcha.es.6ddb4919.js";const A={class:"layout-wrapper"},S={class:"auth-page-wrapper"},$={class:"auth-page-content"},x={class:"container"},B={class:"pt-5"},F={class:"row mt-5"},C={class:"col-lg-12"},N={class:"mt-sm-5"},I=s("span",{class:"fs-22 fw-medium"},"Test HTTP flood attack | Approach 1: Google reCaptcha ",-1),L=s("div",{class:"mt-3 fs-14"},[s("p",null,"To reduce the action of BOTs on our server we have added google recaptcha challenge to requests on our server. Each request made to our server requires a valid recaptcha token that expires after every request. Since we are stimulating a BOT action on our server only the first reqeust to our server is validated, any subsequent request made to our server gets regected due to invalid recaptcha and is logged on our system for admins. This way we can prevent the action of BOTs (HTTP flooding) on our server. ")],-1),O={class:"row"},H={class:"col-md-9 col-lg-6 col-xl-5"},P={class:"card mt-4"},D={class:"card-body p-md-4"},U={class:"p-2"},j={class:"mb-4"},z=n(),G=s("span",{class:"text-danger"},"*",-1),M={class:"input-group"},Q={class:"input-group-text text-nowrap",id:"basic-addon3",style:{width:"15.4rem"}},K={class:"mb-4"},W=n(),Z=s("span",{class:"text-danger"},"*",-1),J={class:"position-relative auth-pass-inputgroup"},X={class:"mb-3 text-center mx-auto"},Y={class:"row"},ss={class:"col-md-6 mb-3"},es=n(" Initiate "),ts={class:"col-md-6"},os=n(" Reset Request "),as={class:"col-md-9 col-lg-6 col-xl-7"},is={class:"card bg-dark mt-4"},ns={class:"card-body p-4 overflow-auto"},rs={class:"fs-12 w-100 overflow-auto",id:"code_view",style:{height:"350px"}},cs={key:0},ds={class:"text-white"},ls=n(),hs=n(),ps=s("small",{class:"text-muted text-xs"},"----",-1),us=n(),ms={class:"text-warning"},_s=n(),fs={key:0,class:"text-warning"},gs={key:1},vs=s("span",{class:"text-white"},"[root ~ $]",-1),bs=n(),ks=s("span",{class:"text-muted"},"click on Initiate button to start attack",-1),ys=[vs,bs,ks],ws={data(){return{isfetching:!1,responses:[],isdoneFetching:!1,form:{domain_url:this.domain_url+"/api/",endpoint:"all-products",packets:"",recaptcha:""}}},methods:{async submit(){this.form.processing=!0;for(let i=0;i<this.form.packets;i++)await axios.post("/api/"+this.form.endpoint,this.form).then(r=>{let e=r.data;this.responses.push(e)}).catch(r=>{if(r.response.status==404){let o={message:"Api resource not found on this server",status:404};this.responses.push(o),i=this.form.packets}let e={message:r.response.data.message,status:422,ip:"blocked"};this.responses.push(e),this.isfetching=!1,this.isdoneFetching=!0}),i+1>=this.form.packets&&(this.isdoneFetching=!0),i<=this.form.packets&&(this.isfetching=!0);this.$refs.recaptcha.reset()},onCaptchaExpired(){this.$refs.recaptcha.reset()},handleError(){},handleSuccess(i){this.form.recaptcha=i}},mounted(){document.getElementById("code_view").scrollIntoView(!1)}},As=Object.assign(ws,{__name:"Recaptcha",props:["domain_url"],setup(i){const r=k(()=>"6LchQ48hAAAAAEsyZl3EQhkGFzWm-pMNSFvis-w2");return y(),(e,o)=>(c(),d(f,null,[a(h(q),{title:"Testing DDOS Attack"}),s("div",A,[a(E),s("div",S,[s("div",$,[s("div",x,[s("div",B,[s("div",F,[s("div",C,[s("div",N,[s("div",null,[a(h(T),{href:e.route("test.recaptcha"),class:"d-inline-block auth-logo"},{default:p(()=>[I]),_:1},8,["href"])])]),L])]),s("div",O,[s("div",H,[s("div",P,[s("div",D,[s("div",U,[s("form",{class:"needs-validation",onSubmit:o[3]||(o[3]=_((...t)=>e.submit&&e.submit(...t),["prevent"]))},[s("div",j,[a(v,{for:"url",value:"Request URL",class:"form-label fs-16 text-muted"}),z,G,s("div",M,[s("span",Q,l(e.form.domain_url),1),a(g,{type:"text",class:"form-control form-control-lg",required:"",id:"url",modelValue:e.form.endpoint,"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.endpoint=t),placeholder:"all-products","aria-describedby":"basic-addon3"},null,8,["modelValue"])])]),s("div",K,[a(v,{for:"packets",value:"Number of Requests/Packets to be sent",class:"form-label fs-16 text-muted"}),W,Z,s("div",J,[a(g,{id:"packets",type:"number",min:"1",class:"form-control form-control-lg",modelValue:e.form.packets,"onUpdate:modelValue":o[1]||(o[1]=t=>e.form.packets=t),required:""},null,8,["modelValue"])])]),s("div",X,[a(h(R),{ref:"recaptcha",sitekey:h(r),loadRecaptchaScript:!0,onVerify:e.handleSuccess,onError:e.handleError},null,8,["sitekey","onVerify","onError"])]),s("div",Y,[s("div",ss,[a(b,{class:u(["fs-15 form-control form-control-lg",{"opacity-25":e.isfetching}]),type:"submit",disabled:e.isfetching},{default:p(()=>[es]),_:1},8,["class","disabled"])]),s("div",ts,[a(b,{class:u(["fs-15 bg-danger form-control form-control-lg",{"opacity-25":!e.isfetching}]),type:"button",disabled:!e.isfetching,onClick:o[2]||(o[2]=_(t=>{e.responses=[],e.isfetching=!1,e.form.packets="",e.isdoneFetching=!1},["prevent"]))},{default:p(()=>[os]),_:1},8,["class","disabled"])])])],32)])])])]),s("div",as,[s("div",is,[s("div",ns,[s("div",rs,[e.responses.length>0?(c(),d("div",cs,[(c(!0),d(f,null,w(e.responses,(t,m)=>(c(),d("div",{key:m,class:"mb-2"},[s("span",ds,"[root ~ #"+l(m+1)+" $]",1),ls,s("span",{class:u(t.status==200?"text-success":"text-danger")},l(t.message),3),hs,ps,us,s("span",ms,'["Status" => '+l(t.status)+"]",1),_s,t.ip?(c(),d("span",fs,'["Request IP Address" => '+l(t.ip)+"]",1)):V("",!0)]))),128))])):(c(),d("div",gs,ys))])])])])])])])])])])],64))}});export{As as default};
