import{j as u,p as v,o as p,g as m,a as i,b as r,w as l,F as g,H as y,d as s,e as V,v as n,x as E,t as k,l as P,y as h,n as w,L as S,f,k as $}from"./app.aaa1f469.js";import{_ as q}from"./Authenticated.46aece93.js";import{_ as U}from"./Button.055dc51f.js";import{_ as d,a as c}from"./Label.fd7f6639.js";import{_ as j}from"./ValidationErrors.e4ffca27.js";import{R as A}from"./vue-recaptcha.es.49cf5bfe.js";import"./Header.546e2bd3.js";const C={class:"container-fluid"},N=s("div",{class:"row"},[s("div",{class:"col-12"},[s("div",{class:"page-title-box d-sm-flex align-items-center justify-content-between"},[s("h4",{class:"mb-sm-0"},"Edit Product"),s("div",{class:"page-title-right"},[s("ol",{class:"breadcrumb m-0"},[s("li",{class:"breadcrumb-item"},[s("a",{href:"javascript: void(0);"},"Ecommerce")]),s("li",{class:"breadcrumb-item active"},"Edit Product")])])])])],-1),T={class:"row"},D={class:"col-lg-8"},I={class:"card"},B={class:"card-body"},F={class:"mb-3"},G={class:"mb-3"},H={class:"row"},K={class:"col-lg-4 col-sm-6"},L={class:"mb-3"},M={class:"col-lg-4 col-sm-6"},R={class:"mb-3"},O={class:"input-group mb-3"},Q=s("span",{class:"input-group-text",id:"product-price-addon"},"\u20A6",-1),Y={class:"col-lg-4 col-sm-6"},x={class:"mb-3"},z={class:"input-group mb-3"},J=s("span",{class:"input-group-text",id:"product-discount-addon"},"%",-1),W={class:"card"},X=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},"Product Gallery")],-1),Z={class:"card-body"},ss={class:"mb-4"},ts=s("h5",{class:"fs-14 mb-1"},"Product Image",-1),os=s("p",{class:"text-muted"},"Add Product main Image.",-1),es={class:"text-center"},is=["value"],as={class:"col-lg-4"},rs={class:"card"},ds=s("div",{class:"card-header"},[s("h5",{class:"card-title mb-0"},"Publish")],-1),cs={class:"card-body"},ls={class:"mb-3"},ns=s("label",{for:"choices-publish-status-input",class:"form-label"},"Status",-1),us=s("option",{value:"published",selected:""},"Published",-1),ps=s("option",{value:"scheduled"},"Scheduled",-1),ms=s("option",{value:"draft"},"Draft",-1),hs=[us,ps,ms],fs=s("label",{for:"choices-publish-visibility-input",class:"form-label"},"Visibility",-1),_s=s("option",{value:"public",selected:""},"Public",-1),bs=s("option",{value:"hidden"},"Hidden",-1),vs=[_s,bs],gs={class:"mb-3 text-center mx-auto"},ys={class:"text-end mb-3"},Vs=f(" Submit "),Es=f("Cancel"),ks={data(){return{form:{product_id:this.prod.id,product_name:this.prod.product_name,product_description:this.prod.product_description,stocks:this.prod.quantity,price:this.prod.price,status:this.prod.status,discount:this.prod.discount,visibility:this.prod.visibility,img:"",recaptcha:"",processing:!1}}},methods:{async submit(){this.form.processing=!0,await axios.post(route("product.update"),this.form,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.toast.success(a.data.message),this.form.processing=!1,this.$refs.form.reset(),this.$refs.recaptcha.reset()}).catch(a=>{this.onCaptchaExpired(),this.toast.error(a.response.data.message),this.form.processing=!1})},onCaptchaExpired(){this.$refs.recaptcha.reset()},handleError(){},async handleSuccess(a){this.form.recaptcha=a}}},As=Object.assign(ks,{__name:"EditProduct",props:["product"],setup(a){const _=u(()=>"6LcfKw0jAAAAAGNrTEUGAYq-qWjcO9motYKJQF1k");v();const b=u(()=>$().props.value.product);return(t,o)=>(p(),m(g,null,[i(r(y),{title:"Edit Product"}),i(q,null,{default:l(()=>[s("div",C,[N,s("form",{id:"createproduct-form",autocomplete:"off",class:"needs-validation",novalidate:"",onSubmit:o[8]||(o[8]=V((...e)=>t.submit&&t.submit(...e),["prevent"]))},[s("div",T,[s("div",D,[i(j,{class:"mb-4"}),s("div",I,[s("div",B,[s("div",F,[i(d,{for:"product-title-input",value:"Product Name",class:"form-label"}),i(c,{id:"product-title-input",type:"text",class:"form-control",modelValue:t.form.product_name,"onUpdate:modelValue":o[0]||(o[0]=e=>t.form.product_name=e),required:"",placeholder:"Enter product title"},null,8,["modelValue"])]),s("div",G,[i(d,{for:"product-description",value:"Product Description",class:"form-label"}),n(s("textarea",{rows:"5",cols:"",class:"form-control",id:"product-description",placeholder:"Enter product description","onUpdate:modelValue":o[1]||(o[1]=e=>t.form.product_description=e)},null,512),[[E,t.form.product_description]])]),s("div",H,[s("div",K,[s("div",L,[i(d,{for:"stocks-input",value:"In Stock / Quantity",class:"form-label"}),i(c,{id:"stocks-input",type:"text",class:"form-control",modelValue:t.form.stocks,"onUpdate:modelValue":o[2]||(o[2]=e=>t.form.stocks=e),required:"",placeholder:"Total stocks"},null,8,["modelValue"])])]),s("div",M,[s("div",R,[i(d,{for:"product-price-input",value:"Price",class:"form-label"}),s("div",O,[Q,i(c,{id:"product-price-input",type:"text",class:"form-control",modelValue:t.form.price,"onUpdate:modelValue":o[3]||(o[3]=e=>t.form.price=e),required:"",placeholder:"Enter price","aria-label":"Price","aria-describedby":"product-price-addon"},null,8,["modelValue"])])])]),s("div",Y,[s("div",x,[i(d,{for:"product-discount-input",value:"Discount",class:"form-label"}),s("div",z,[J,i(c,{id:"product-discount-input",type:"text",class:"form-control",modelValue:t.form.discount,"onUpdate:modelValue":o[4]||(o[4]=e=>t.form.discount=e),required:"",placeholder:"Enter discount","aria-label":"discount","aria-describedby":"product-discount-addon"},null,8,["modelValue"])])])])])])]),s("div",W,[X,s("div",Z,[s("div",ss,[ts,os,s("div",es,[i(c,{type:"file",onInput:o[5]||(o[5]=e=>t.form.img=e.target.files[0]),class:"form-control",required:"",accept:"image/png, image/gif, image/jpeg"}),t.form.progress?(p(),m("progress",{key:0,value:t.form.progress.percentage,max:"100"},k(t.form.progress.percentage)+"%",9,is)):P("",!0)])])])])]),s("div",as,[s("div",rs,[ds,s("div",cs,[s("div",ls,[ns,n(s("select",{class:"form-select",id:"choices-publish-status-input","data-choices":"","data-choices-search-false":"","onUpdate:modelValue":o[6]||(o[6]=e=>t.form.status=e)},hs,512),[[h,t.form.status]])]),s("div",null,[fs,n(s("select",{class:"form-select",id:"choices-publish-visibility-input","data-choices":"","data-choices-search-false":"","onUpdate:modelValue":o[7]||(o[7]=e=>t.form.visibility=e)},vs,512),[[h,t.form.visibility]])])])]),s("div",gs,[i(r(A),{ref:"recaptcha",sitekey:r(_),loadRecaptchaScript:!0,onVerify:t.handleSuccess,onError:t.handleError},null,8,["sitekey","onVerify","onError"])]),s("div",ys,[i(U,{class:w(["btn btn-primary btn-lg w-md",{"opacity-25":t.form.processing}]),disabled:t.form.processing},{default:l(()=>[Vs]),_:1},8,["class","disabled"]),i(r(S),{href:`/account/product/view/${r(b).id}`,class:"btn btn-danger btn-lg w-md mx-2"},{default:l(()=>[Es]),_:1},8,["href"])])])])],32)])]),_:1})],64))}});export{As as default};
